:root{
    /* your existing values are fine‚Äîtune if you want */
    --sidebar-w: clamp(250px, 25vw, 380px);
    --edge-gap: clamp(16px, 2.5vw, 56px);   /* width of the right gutter */
    --fade-w: clamp(24px, 4vw, 96px);       /* width of the fade into gutter */
    --page-bg: #0b0f19;                     /* page background used for blends */
    /* adjust this to your bubble navbar‚Äôs actual height */
    /* space between sidebar bubble and the content */
    --main-gap: clamp(12px, 2vw, 24px);

    --home-content-scale: 0.9;

    --home-radius: 22px;

    --home-lift: -2.5vh;

   --nav-h: 72px;                 /* set to your actual navbar height */
   --nav-gap: 16px;
   --nav-height: var(--nav-h);    /* alias used everywhere */



    /* slider button sizing (already in your file)‚Ä¶ */
    --slider-btn-size: clamp(56px, 6.5vh, 68px);
    --slider-btn-icon: clamp(26px, 3vh, 34px);
    --slider-btn-gap: clamp(16px, 2vw, 24px);

    /* add: contrast rings/halo */
    --slider-btn-ring-1: rgba(255,255,255,.92); /* inner light ring */
    --slider-btn-ring-2: rgba(15,23,42,.35);    /* outer dark ring */


    /* characters in "How UFVBay Works" ‚Üí 16 (update if you change the title) */
    --how-typing-steps: 16;
    /* duration should roughly equal steps * JS typing speed */
    --how-typing-dur: 1200ms;


    --how-accent-1: #22c55e; /* emerald */
    --how-accent-2: #06b6d4; /* teal   */
    --how-accent-3: #6366f1; /* indigo */
    --ufvbay-accent: #16a34a; /* emerald/UFV-ish green */
    --ufvbay-border: color-mix(in srgb, var(--ufvbay-accent) 70%, #ffffff 30%);


    --title-chip-border-w: 5px; /* try 3‚Äì5px */
    --title-chip-ring-w: 5px;   /* ring thickness (optional) */


    --modal-radius: 18px;
    --modal-border: 1px solid rgba(255,255,255,.18);
    --modal-pad: 24px;                    /* more breathing room */
    --modal-shadow: 0 24px 70px rgba(0,0,0,.45);
    --infosheet-border: #000;

}

:root.dark{
    /* slightly stronger contrast in dark mode */
    --slider-btn-ring-1: rgba(255,255,255,.85);
    --slider-btn-ring-2: rgba(0,0,0,.55);

    --infosheet-border: #fff;
}

/* full-viewport page with header row + fill row */
.home-shell {
    height: 100dvh;                  /* use dynamic viewport on mobile too */
    display: grid;
    grid-template-rows: auto 1fr;    /* navbar height (auto) + fill row */
    overflow: visible;                /* prevent page scrollbars from breaking the fill */
}

/* second row: sidebar + main content */
.home-body {
    display: grid;
    grid-template-columns: var(--sidebar-w) 1fr var(--edge-gap);
    min-height: 0;                   /* allow children to shrink inside grid */
    padding-top: calc(var(--nav-height, 80px) + var(--nav-gap));
    height: calc(100dvh - (var(--nav-height, 80px) + var(--nav-gap)));
    box-sizing: border-box;
}

/* keep your sidebar scrolling independently if it overflows */

/* the image area */
.home-main{
    grid-column: 2 / 3;
    /* was: position: relative; place-items: center; ... */
    position: relative;
    display: flex;                 /* <-- make it a flex container */
    align-items: center;           /* vertical center */
    justify-content: center;       /* horizontal center */
    height: 100%;                  /* ensure it can center within full column */
    min-width: 0;
    min-height: 0;
    z-index: 0;

    box-sizing: border-box;
}

/* the ‚Äúcanvas‚Äù that holds the image + typewriter */
.home-content {
    position: relative;
    width: calc(100% * var(--home-content-scale));
    height: calc(100% * var(--home-content-scale));
    min-width: 320px;                  /* optional safety for very small screens */
    min-height: 200px;

    border-radius: var(--home-radius);
    overflow: hidden;                     /* clips the hero image to the radius */
    background: var(--bg, #0b0f19);  /* fallback fill while image loads */
    box-shadow:
            0 12px 28px rgba(0,0,0,.35),        /* depth like your bubbles */
            inset 0 1px 0 rgba(255,255,255,.06);
    outline: 1px solid rgba(255,255,255,.08); /* subtle edge line (optional) */
    transform: translateY(var(--home-lift));
}


/* make the image fill only the canvas (not the whole page) */
.home-content > .home-hero {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* keep the typewriter centered inside the canvas */
.home-content > .typewriter {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}


/* make the image fill the space and crop as needed */
.home-hero {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;               /* fills area, may crop */
    z-index: 0;
}

.typewriter {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);  /* perfectly center, no stretching */

    /* readable ‚Äúchip‚Äù */
    padding: clamp(12px, 2.2vw, 24px) clamp(16px, 3vw, 36px);
    background: rgba(255, 255, 255, 0.88);
    border: 1px solid rgba(15, 23, 42, 0.18);
    border-radius: 16px;
    box-shadow:
            0 6px 16px rgba(0, 0, 0, 0.25),
            0 1px 2px rgba(0, 0, 0, 0.15);

    max-width: min(90%, 900px);
    color: #0f172a;                 /* dark text */
    text-shadow: none;
    font-weight: 700;
    font-size: clamp(20px, 3vw, 42px);

    z-index: 2;
    pointer-events: none;           /* keep clicks on image */
}

/*add a slight glass effect on capable browsers *!*/
@supports (backdrop-filter: blur(6px)) {
    .typewriter {
        background: rgba(255, 255, 255, 0.72);
        backdrop-filter: blur(6px) saturate(1.05);
    }
}


@media (max-width: 640px) {
    .home-body { grid-template-columns: var(--sidebar-w) 1fr 0; }
}


/* optional: smaller lift on narrow screens */
@media (max-width: 900px){
    :root { --home-lift: -1vh; }
}


















/* ===== SLIDER (lives entirely inside .home-main) ===== */

/* container that clips the animated track */
.home-slider {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;           /* important: hide sliding edges */
    display: grid;              /* keeps content centered */
    place-items: center;
}

/* the moving strip */
.home-track {
    display: flex;
    height: 100%;
    transition: transform 560ms cubic-bezier(.22,.61,.36,1);
    will-change: transform;
}

/* each slide occupies 100% of the main column */
.home-slide {
    flex: 0 0 100%;
    height: 100%;
    display: grid;
    place-items: center;
}

/* reuse your existing card-like canvas */
.home-content {
    /* already defined above in your file; no change needed */
}

/* simple light panel look for non-hero slides */
.home-content--panel {
    background: var(--surface, #0b0f19);
    border: 1px solid var(--border, rgba(255,255,255,.08));
    box-shadow:
            0 12px 28px rgba(0,0,0,.35),
            inset 0 1px 0 rgba(255,255,255,.06);
    display: grid;
    place-items: center;
}

.home-content--panel .panel-inner {
    padding: clamp(20px, 4vw, 48px);
    max-width: min(90%, 960px);
    text-align: center;
}

.home-content--panel h2 {
    margin: 0 0 12px;
    font-size: clamp(22px, 3.2vw, 40px);
    font-weight: 800;
}

.home-content--panel p {
    margin: 0 auto;
    font-size: clamp(14px, 1.4vw, 18px);
    line-height: 1.6;
    opacity: .9;
}

/* Bottom-centered controls *//* Bottom-centered controls */
.home-controls {
    position: absolute;
    bottom: clamp(16px, 3vh, 36px);
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: var(--slider-btn-gap);
    z-index: 3;
}

.nav-btn{
    position: relative; /* for the ring layers */
    width: var(--slider-btn-size);
    height: var(--slider-btn-size);
    border-radius: 999px;
    border: 1px solid rgba(15,23,42,.28);
    background: rgba(255,255,255,.96);
    color: #0f172a;

    /* üëâ add the double outline + keep depth and inner bevel */
    box-shadow:
            0 0 0 3px var(--slider-btn-ring-1),  /* inner light ring */
            0 0 0 6px var(--slider-btn-ring-2),  /* outer dark ring */
            0 8px 22px rgba(0,0,0,.35),          /* drop shadow */
            inset 0 0 0 2px rgba(255,255,255,.35);

    font-size: var(--slider-btn-icon);
    line-height: 1;
    display: grid;
    place-items: center;
    cursor: pointer;
    transition: transform .18s ease, box-shadow .18s ease, background .2s ease, opacity .2s ease;
}

/* subtle lift = stronger ring */
.nav-btn:hover:not(:disabled){
    transform: translateY(-2px) scale(1.03);
    box-shadow:
            0 0 0 3px var(--slider-btn-ring-1),
            0 0 0 6px var(--slider-btn-ring-2),
            0 12px 28px rgba(0,0,0,.4),
            inset 0 0 0 2px rgba(255,255,255,.35);
}

/* keep your strong keyboard focus ring */
.nav-btn:focus-visible{
    outline: none;
    box-shadow:
            0 0 0 3px rgba(255,255,255,.98),
            0 0 0 5px rgba(59,130,246,.65);
}

/* dark mode */
/* dark mode button base (keeps the ring vars above) */
:root.dark .nav-btn{
    background: rgba(17,24,39,.92);
    color: #fff;
    border-color: rgba(255,255,255,.18);
}

.nav-btn:active:not(:disabled){ transform: translateY(0); box-shadow: 0 4px 12px rgba(0,0,0,.28); }
.nav-btn:disabled{ opacity: .45; cursor: default; }




/* second card */


/* ---------- HOW slide (3 feature cards) ---------- */

.panel--how{
    display: grid;                 /* it doesn't inherit grid from --panel anymore */
    place-items: stretch center;   /* stretch vertically, center horizontally */
    background: transparent;       /* let the <img.home-hero> be visible */
    border: none;                  /* no panel border over the image */
    position: relative; /* new */

}

/* Top gradient band behind the title (dark ‚Üí transparent) */
.panel--how::before{
    content:"";
    position:absolute; inset:0 0 38% 0; /* top ~62% gradient; adjust if needed */
    background:
        /* contrast band */
            linear-gradient(to bottom,
            rgba(5,10,20,.86) 0%,
            rgba(5,10,20,.66) 45%,
            rgba(5,10,20,0) 100%
            ),
                /* single-color wash using the brand */
            linear-gradient(90deg,
            color-mix(in srgb, var(--ufvbay-accent) 22%, transparent) 0%,
            color-mix(in srgb, var(--ufvbay-accent) 22%, transparent) 100%
            );
    pointer-events:none; z-index:0;
}
/* Extra edge contrast for the letters */
.panel--how .panel-title,
.panel--how #how-typed{
    -webkit-text-stroke: 0.6px rgba(0,0,0,.35);
    text-shadow:
            0 2px 10px rgba(0,0,0,.45),
            0 6px 24px rgba(0,0,0,.35);
}

.panel--how .panel-inner{
    display: grid;
    grid-template-rows: auto 1fr;  /* row 1 = title, row 2 = flexible area */
    height: 100%;                  /* fill the slide */
    position: relative;
    z-index: 1;                    /* above the image */
    max-width: min(92%, 1120px);
    margin-inline: auto;
    text-align: left;
    padding: clamp(24px, 4vw, 56px);
}


.panel--how .panel-title{
    position: relative;
    display: inline-block;      /* shrink to text width so underline matches */
    margin: 0 auto clamp(16px, 2.2vw, 24px); /* stay centered with bottom gap */
    padding-inline: .25ch;      /* tiny horizontal breathing room */
    text-align: center;
    color: #fff;

    padding: clamp(6px, 0.9vw, 10px) clamp(12px, 1.6vw, 16px);
    border-radius: 14px;


    -webkit-text-stroke: .4px rgba(0,0,0,.35);
    text-shadow: 0 2px 12px rgba(0,0,0,.6);
    background: rgba(5,10,20,.88);    /* darker */
    border-color: color-mix(in srgb, var(--ufvbay-accent) 70%, #ffffff 30%);
    border-style: solid;
    border-width: var(--title-chip-border-w);
}

@supports (backdrop-filter: blur(8px)){
    .panel--how .panel-title{
        background: rgba(5,10,20,.78);
        backdrop-filter: blur(8px) saturate(1.05);
    }
}

/* soft glow behind the title for legibility */
.panel--how .panel-title::before{
    content:"";
    position:absolute; inset:-2px; border-radius:16px;
    background: linear-gradient(135deg,
    color-mix(in srgb, var(--ufvbay-accent) 85%, #ffffff 15%),
    color-mix(in srgb, var(--ufvbay-accent) 60%, #000000 40%)
    );
    filter: drop-shadow(0 6px 16px color-mix(in srgb, var(--ufvbay-accent) 35%, transparent));
    /* make it a 2px ring using masking */
    -webkit-mask:
            linear-gradient(#000 0 0) content-box,
            linear-gradient(#000 0 0);
    -webkit-mask-composite: xor; mask-composite: exclude;
    padding:2px; pointer-events:none;

}



/* underline that expands as the title types */
.panel--how .panel-title::after{
    content: none !important;
    position:absolute;
    left:50%;
    bottom: -.35em;
    height: 3px;
    width: calc(100% + 0.5rem);      /* match final title width */
    border-radius: 999px;
    background: linear-gradient(90deg,
    var(--how-accent-1) 0%,
    var(--how-accent-2) 50%,
    var(--how-accent-3) 100%
    );

    box-shadow:
            0 2px 14px rgba(0,0,0,.45),
            0 0 18px rgba(6,182,212,.35);

    transform: translateX(-50%) scaleX(0);
    transform-origin: 0 50%;
    animation: how-underline var(--how-typing-dur, 1200ms)
    steps(var(--how-typing-steps, 16)) forwards;
}

@keyframes how-underline { to { transform: translateX(-50%) scaleX(1); } }


.features-grid{
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: clamp(14px, 2vw, 24px);
    align-self: center;            /* center the grid in the flexible area */
    justify-self: center;
    width: 100%;
    max-width: 1120px;
    align-items: stretch;          /* equalize card heights in the row */

}

/* Card base */
.feature-card{
    display: grid;
    grid-template-rows: auto 1fr auto;   /* title | text (flex) | cta */
    min-height: clamp(180px, 24vh, 220px);
    background: rgba(255,255,255,.96);
    color: #0f172a;
    border: 1px solid rgba(15,23,42,.12);
    border-radius: 16px;
    padding: clamp(16px, 2vw, 20px);
    box-shadow:
            0 8px 22px rgba(0,0,0,.28),
            inset 0 1px 0 rgba(255,255,255,.35);
    transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
    overflow: hidden; /* keep reveal tidy */
}

:root.dark .feature-card{
    background: rgba(17,24,39,.92);
    color: #fff;
    border-color: var(--ufvbay-border) !important;
    box-shadow:
            0 8px 22px rgba(0,0,0,.28),
            0 0 0 1px color-mix(in srgb, var(--ufvbay-accent) 20%, transparent),
            inset 0 1px 0 rgba(255,255,255,.35);
}

/* Light lift on hover */
.feature-card:hover{
    transform: translateY(-3px);
    box-shadow: 0 12px 28px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.35);
    border-color: var(--ufvbay-border) !important;

}

:root.dark .features-grid .feature-card{
    border-color: color-mix(in srgb, var(--ufvbay-accent) 80%, #ffffff 20%) !important;
}

.panel--how .feature-card{
    position: relative; /* host the animated ring */
    border-color: var(--ufvbay-border) !important;  /* idle */
    border-width: 5px;                            /* optional: a tad thicker */
    border-style: solid;

    box-shadow:
            0 8px 22px rgba(0,0,0,.28),
            0 0 0 1px color-mix(in srgb, var(--ufvbay-accent) 20%, transparent),
            inset 0 1px 0 rgba(255,255,255,.35);
}

/* animated brand ring */
.panel--how .feature-card::before{
    content: "";
    position: absolute;
    inset: -2px;                 /* sits just outside the card border */
    border-radius: inherit;
    padding: 2px;                /* ring thickness */
    pointer-events: none;
    opacity: 0;                  /* only show on hover/focus */
    background:
            conic-gradient(
                    from 0turn,
                    color-mix(in srgb, var(--ufvbay-accent) 68%, #00140a 32%) 0%,
                    color-mix(in srgb, var(--ufvbay-accent) 68%, #00140a 32%) 78%,
                    color-mix(in srgb, var(--ufvbay-accent) 96%, #ffffff 4%) 92%,
                    color-mix(in srgb, var(--ufvbay-accent) 68%, #00140a 32%) 100%
            );
    /* hollow out the center so it looks like a border */
    -webkit-mask:
            linear-gradient(#000 0 0) content-box,
            linear-gradient(#000 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    filter: drop-shadow(0 0 10px color-mix(in srgb, var(--ufvbay-accent) 35%, transparent));
    transform: rotate(0turn);
    transition: opacity .2s ease, filter .2s ease;
}

/* show + rotate the ring on hover or keyboard focus */
.panel--how .feature-card:hover::before,
.panel--how .feature-card:focus-within::before{
    opacity: 1;
    animation: ufvbay-ring 1.2s linear infinite;
}

@keyframes ufvbay-ring{
    to { transform: rotate(1turn); }
}

/* keep the same color on hover (no flip back) */
.panel--how .feature-card:hover{
    border-color: var(--ufvbay-border) !important;
}



/* Titles & text */
.feature-title{
    margin: 0 0 6px;
    font-size: clamp(16px, 1.6vw, 20px);
    font-weight: 800;
}

.feature-text{
    margin: 0;
    font-size: clamp(13px, 1.25vw, 16px);
    line-height: 1.55;
    opacity: .95;
}

/* Hover-reveal area (collapses when not hovered) */
.feature-cta{
    overflow: hidden;
    max-height: 0;
    opacity: 0;
    margin-top: 0;
    transition:
            max-height .28s ease,
            opacity .28s ease,
            margin-top .28s ease,
            transform .28s ease;
    transform: translateY(-6px);
    align-self: end;
}

/* On hover, open downward and show button */
.feature-card:hover .feature-cta{
    max-height: 120px;       /* enough room for the button */
    opacity: 1;
    margin-top: 12px;
    transform: translateY(0);
}

/* Button */
.feature-btn{
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 10px 14px;
    border-radius: 12px;
    border: 1px solid rgba(15,23,42,.25);
    background: rgba(255,255,255,.96);
    color: #0f172a;
    font-weight: 700;
    cursor: pointer;
    box-shadow:
            0 0 0 2px rgba(255,255,255,.8),
            0 6px 16px rgba(0,0,0,.25),
            inset 0 0 0 2px rgba(255,255,255,.35);
    transition: transform .15s ease, box-shadow .15s ease, background .2s ease;
}

.feature-btn:hover{
    transform: translateY(-1px);
    box-shadow:
            0 0 0 2px rgba(255,255,255,.95),
            0 10px 22px rgba(0,0,0,.32),
            inset 0 0 0 2px rgba(255,255,255,.35);
}

:root.dark .feature-btn{
    background: rgba(17,24,39,.92);
    color: #fff;
    border-color: rgba(255,255,255,.2);
}

/* Responsive stacking: 3 ‚Üí 2 ‚Üí 1 columns */
@media (max-width: 1000px){
    .features-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
@media (max-width: 640px){
    .features-grid{ grid-template-columns: 1fr; }
}



/* Home info styling*/














/* Backdrop */
.modal-backdrop.infosheet .modal-sheet.infosheet-sheet{
    position: fixed;
    left: var(--modal-left, 50%);
    top:  var(--modal-top, 50%);
    transform: translate(-50%, -50%); /* no scale, we want crisp text */
    width: min(92vw, 820px);
    max-height: 70vh;
    overflow: auto;
    border-radius: 16px;

    /* Match your feature-card visual language */
    background: rgba(255,255,255,.96);
    color: #0f172a;
    border: 7px solid var(--infosheet-border);
    box-shadow:
            0 12px 28px rgba(0,0,0,.35),
            inset 0 1px 0 rgba(255,255,255,.35);
}
:root.dark .modal-backdrop.infosheet .modal-sheet.infosheet-sheet{
    background: rgba(17,24,39,.92);
    color: #fff;
}

/* Header centered like your cards, close on the right */
.modal-backdrop.infosheet .modal-header{
    display: grid;
    grid-template-columns: 1fr auto 1fr; /* [spacer] [title] [close] */
    align-items: center;
    gap: 8px;
    padding: 14px 20px 12px;
    background: inherit;
    border-bottom: 1px solid rgba(15,23,42,.1);
}
:root.dark .modal-backdrop.infosheet .modal-header{
    border-bottom-color: rgba(255,255,255,.12);
}
.modal-backdrop.infosheet .modal-title{
    grid-column: 2;
    margin: 0;
    text-align: center;
    font-weight: 800;
    font-size: clamp(18px, 2.2vw, 22px);
}
.modal-backdrop.infosheet .modal-close{
    grid-column: 3;
    justify-self: end;
    appearance: none; border: 0; background: transparent;
    font-size: 26px; line-height: 1; cursor: pointer; color: inherit;
    border-radius: 10px; padding: 2px 6px;
}

/* Comfortable reading column + improved list styling */
.modal-backdrop.infosheet .modal-body{
    padding: 18px 22px 22px;
    font-size: clamp(14px, 1.2vw, 16px);
    line-height: 1.7;
}
.modal-backdrop.infosheet .modal-body > *{
    max-width: 720px;
    margin-inline: auto;
}
.modal-backdrop.infosheet .modal-body ol,
.modal-backdrop.infosheet .modal-body ul{
    padding-left: 1.15rem;
    margin: .35rem 0 0;
}
.modal-backdrop.infosheet .modal-body li{ margin: .3rem 0 .12rem; }
.modal-backdrop.infosheet .modal-body ul li::marker{ color: var(--ufvbay-accent, #16a34a); }
.modal-backdrop.infosheet .modal-body ol{ counter-reset: step; }
.modal-backdrop.infosheet .modal-body ol li{
    list-style: none; position: relative; padding-left: 1.45rem;
}
.modal-backdrop.infosheet .modal-body ol li::before{
    content: counter(step) "."; counter-increment: step;
    position: absolute; left: 0; top: 0; font-weight: 800;
    color: var(--ufvbay-accent, #16a34a);
}

/* Subtle fade/blur of slide content behind the modal */
html.modal-open .panel--how .features-grid{
    opacity: .28;
    filter: blur(2px);
    transform: scale(.995);
    transition: opacity .18s ease, filter .18s ease, transform .18s ease;
}

/* Keep the top band faint while the modal is open */
html.modal-open .panel--how::before{ opacity: .15 !important; }

/* Ensure the infosheet backdrop never dims the page */
.modal-backdrop.infosheet{
    background: transparent !important;
    backdrop-filter: none !important;
}