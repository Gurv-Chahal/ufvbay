@media (max-width: 767.98px) {
  .search-bar {
    width: 100%;
  }
}

@media (min-width: 768px) {
  .search-bar {
    width: 50%;
  }
}

.navbar-fixed {
  margin-top: 0 !important;
}

/* Dark mode for the Bootstrap navbar */
:root.dark .navbar {
  background: var(--surface) !important;
  color: var(--text) !important;
  border-bottom: 1px solid var(--border);
}

/* Links, brand, buttons, toggler, form controls */
:root.dark .navbar .navbar-brand,
:root.dark .navbar .nav-link,
:root.dark .navbar .btn,
:root.dark .navbar .navbar-toggler,
:root.dark .navbar .form-control {
  color: var(--text) !important;
  fill: var(--text) !important; /* for SVG icons */
}

:root.dark .navbar .nav-link:hover,
:root.dark .navbar .navbar-brand:hover {
  color: var(--accent) !important;
}

:root.dark .navbar .form-control {
  background: var(--bg);
  border: 1px solid var(--border);
}
:root.dark .navbar .form-control::placeholder {
  color: var(--muted);
}

/* If you use .navbar-light/.navbar-dark classes, neutralize them in dark mode */
:root.dark .navbar.navbar-light,
:root.dark .navbar.navbar-dark {
  background: var(--surface) !important;
  color: var(--text) !important;
}

/* Dark mode: make the search input focus ring/border white */
:root.dark .navbar .form-control:focus,
:root.dark .navbar .form-control:focus-visible {
  border-color: #fff !important;
  box-shadow: 0 0 0 .2rem rgba(255, 255, 255, .25) !important; /* soft white glow */
  outline: none;                     /* suppress native blue outline */
  background: var(--surface);
  color: var(--text);
}

:root.dark .navbar .form-control::placeholder {
  color: var(--muted);
}

:root.dark .navbar .btn-outline-success {
  /* Bootstrap 5 buttons are driven by these vars */
  --bs-btn-color: #fff;
  --bs-btn-border-color: #fff;
  --bs-btn-hover-border-color: #fff;
  --bs-btn-active-bg: #fff;
  --bs-btn-active-color: #0f172a;
  --bs-btn-active-border-color: #fff;
  --bs-btn-focus-shadow-rgb: 255,255,255;
}

:root.dark .navbar .btn-outline-success i {
  color: inherit;
}


/* Make the person icon white (wins over the inline black) */
:root.dark .navbar .btn.border-0 > a .bi-person {
  color: #fff !important;
}

/* Nice focus state for keyboard users */
:root.dark .navbar .btn.border-0 > a:focus-visible {
  outline: none;
  box-shadow: 0 0 0 .2rem rgba(255,255,255,.25);
}

.navbar.fixed-top { z-index: 1200 !important; }













/* ===== Bubble navbar ===== */

/* Make the bar itself transparent so only the bubble is visible */
.navbar.fixed-top {
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  padding-top: 10px;   /* breathing room around the bubble */
  padding-bottom: 10px;
}

/* The rounded pill that holds logo, search, and account button */
.nav-bubble {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: clamp(8px, 2vw, 16px);

  /* size & centering */
  width: min(1200px, 94vw);
  margin: 0 auto;

  /* look & feel (matches your sidebar bubble) */
  background: var(--surface, #0b0f19);
  border: 1px solid var(--border, rgba(255,255,255,.08));
  border-radius: 9999px; /* pill */
  box-shadow:
          0 8px 24px rgba(0,0,0,.35),
          inset 0 1px 0 rgba(255,255,255,.06);
  padding: clamp(6px, 1.2vw, 10px) clamp(10px, 2vw, 18px);

  position: relative;  /* keeps dropdowns aligned */
  z-index: 1;
}

/* Brand tweaks inside the bubble */
.nav-bubble .navbar-brand img { width: 42px; height: 42px; }
.nav-bubble .navbar-brand h2  { font-size: clamp(18px, 2.3vw, 28px); margin: 0; }

/* Search takes remaining space nicely */
.nav-bubble .search-bar {
  flex: 1 1 480px;                   /* grow but keep a sensible min width */
  max-width: 720px;
  width: auto;                       /* override the earlier width rule */
}
@media (max-width: 767.98px) {
  .nav-bubble .search-bar { flex-basis: 100%; order: 2; }
}

/* Inputs/buttons inside bubble look lighter on dark surface */
.nav-bubble .form-control {
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.12);
  color: var(--text, #fff);
}
.nav-bubble .form-control::placeholder { color: rgba(255,255,255,0.55); }
.nav-bubble .form-control:focus {
  border-color: rgba(255,255,255,0.35);
  box-shadow: 0 0 0 .2rem rgba(255,255,255,.18);
  background: rgba(255,255,255,0.08);
}

/* Keep the account button compact inside the pill */
.nav-bubble .btn.border-0 { padding: 8px 12px; }

/* Light theme variant (optional) */
.light .nav-bubble {
  background: #fff;
  border: 1px solid #e5e7eb;
  box-shadow:
          0 8px 24px rgba(2,6,23,.08),
          inset 0 1px 0 rgba(255,255,255,.65);
}
.light .nav-bubble .form-control {
  background: #fff;
  color: #0f172a;
  border: 1px solid #cbd5e1;
}
.light .nav-bubble .form-control:focus {
  border-color: #64748b;
  box-shadow: 0 0 0 .2rem rgba(2,132,199,.15);
}
